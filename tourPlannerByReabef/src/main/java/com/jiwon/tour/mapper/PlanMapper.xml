<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
     PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jiwon.tour.mapper.PlanMapper">
	<insert id="insertPlan" parameterType="com.jiwon.tour.vo.PlanTitle" 
	 useGeneratedKeys="true" keyProperty="pIdx" keyColumn="pIdx">
		insert into PLANTITLE(PTYPE, PNAME, NUMPEOPLE, SDATE, EDATE, HOLDER)
		value (#{pType}, #{pName}, #{numPeople}, #{sdate}, #{edate}, #{holder});
	</insert>
	<select id="selectPlan" resultType="com.jiwon.tour.vo.PlanTitle">
		select * from PLANTITLE where PIDX = #{pIdx}
	</select>
	<select id="selectPlans" resultType="com.jiwon.tour.vo.PlanTitle">
		select * from PLANTITLE
	</select>
	
	<insert id="insertPlanSchdule" parameterType="com.jiwon.tour.vo.PlanSchdule">
		INSERT INTO PLANSCHDULE(PTIDX, PSDATE, PSPLACE, PSTRANS, PSTIME, PSSCHEDULE, PSREMARK)
		VALUE(#{ptIdx}, #{psDate},#{psPlace}, #{psTrans}, #{pstime}, #{psSchedule}, #{psRemark});
	</insert>
	
	<select id="selectPlanSchdules" resultType="com.jiwon.tour.vo.PlanSchdule">
		SELECT * FROM PLANSCHDULE WHERE PTIDX = #{ptIdx};
	</select>
	
	<delete id="deletePlanSchedule" parameterType="Integer">
		DELETE FROM PLANSCHDULE WHERE PSIDX = #{psIdx};
	</delete>
</mapper>